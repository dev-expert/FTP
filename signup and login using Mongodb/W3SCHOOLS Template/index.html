<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W3Schools Online web tutorials</title>
    <link rel="stylesheet" href="index.css">
    <link rel="icon" href="W3Schools.png" type="image/gif" sizes="16x16">
    <script src="url2.js"></script>

</head>
<body>
    
    <div id="left">
        <!-- <header> -->
            <div id="ul" class="ul">

            <ul>
                <li><a href="https://www.w3schools.com/html/default.asp">HTML and CSS</a></li>
                <li><a href="https://www.w3schools.com/js/default.asp">JavaScript</a></li>
                <li><a href="https://www.w3schools.com/sql/default.asp">Server Side</a></li>
                <li><a href="https://www.w3schools.com/python/default.asp">Programming</a></li>
                <li><a href="https://www.w3schools.com/ai/default.asp">Artificial Intelligence</a></li>
                <li><a href="https://www.w3schools.com/w3css/w3css_templates.asp">Web Building</a></li>
                <li><a href="https://www.w3schools.com/xml/default.asp">XML Tutorials</a></li>
                <li><a href="https://www.w3schools.com/tags/default.asp">References</a></li>
                <li><a href="https://www.w3schools.com/html/html_exercises.asp">Exercises</a></li>
                <li><a href="https://www.w3schools.com/java/default.asp">Java</a></li>
                <li><a href="#">Exercises</a></li>
                <li><a href="#">Exercises</a></li>
                <li><a href="#">Exercises</a></li>

              </ul>
              </div>
              









         
  
        <!-- </header> -->
    </div>
    <div id="top">
        <h1>W3Schools.com Template Referrence</h1>
    </div>
    
    <div id="header">
        <header>
            <div id="buttons">
                <a href="https://www.w3schools.com/html/default.asp">HTML</a>
                <a href="https://www.w3schools.com/css/default.asp">CSS</a>
                <a href="https://www.w3schools.com/js/default.asp">JAVASCRIPT</a>
                <a href="https://www.w3schools.com/sql/default.asp">SQL</a>
                <a href="https://www.w3schools.com/python/default.asp">PYTHON</a>
                <a href="https://www.w3schools.com/php/default.asp">PHP</a>
                <a href="https://www.w3schools.com/bootstrap/bootstrap_ver.asp">BOOTSTRAP</a>
                <a href="https://www.w3schools.com/howto/default.asp">HOW TO</a>
                <a href="https://www.w3schools.com/w3css/default.asp">W3.CSS</a>
                <a href="https://www.w3schools.com/jquery/default.asp">JQUERY</a>
        </div>
        </header>
    </div>
   
   
    <div id="body">
      <p style="test-allign : center">URL handler</p>
        <input type="text" id="url">
        <button onclick="addurl()" id="myBtn">Add This Url</button>
        <button id="myBtn1" onclick="deletemultipleurl(selectcheckbox(`tickurl`))">Delete</button>
        <ul id="list" class="list"></ul>
    </div>  
    <script>
        
  function is_url(str){
        regexp =  /^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;
        if (regexp.test(str)){return true;}
        else{return false;}
        }
        let arr=[];
var ul = document.getElementById("list");
var input = document.getElementById("url");
input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
    event.preventDefault();
    document.getElementById("myBtn").click();
  }
  });
  function checkurl(str){
    var flag=0;
    for(i=0;i<arr.length;i++)
    {
      if(arr[i]==str)
      {
        flag=1;
      }     
    }
    if(flag==1)
    {
      alert("Don't Repeat Dude....");
      return false;
    }
    else
    {
      return true;
    }
  }
function addurl()
{
  var val=document.getElementById("url").value;
  if(is_url(val))
  {
    if(checkurl(val))
    {
   
    arr.push(val);
    showurl();
    document.getElementById("url").value="";
    }
  }
  else
  {
  alert("Check the URL again Dude...");
  }
}
function showurl()
{
  let str="";
  arr.forEach(element => {
    str+=`<li style="margin-top:10px;"><input type="checkbox" name="tickurl" value="${element}">
    ${element}<button onclick="dellistitem('${element}')">Delete</button><br>`;
  });
  document.getElementById("list").innerHTML = str;
}
function dellistitem(d)
{
  arr.splice(arr.indexOf(d), 1);
  showurl();
}
function selectcheckbox(name){
  const c=document.querySelectorAll(`input[name="${name}"]:checked`);
  let drr=[];
  c.forEach((c)=>{
    drr.push(c.value);

  });
  return drr;
}
function deletemultipleurl(drr1){
  for(i=0;i<drr1.length;i++)
  {
    for(j=0;j<arr.length;j++){
      if(drr1[i]===arr[j])
      {
        arr.splice(arr.indexOf(drr1[i]), 1);
      }
    }
  }
  showurl();
}

    </script>  
</body>
</html>