<!DOCTYPE html>
<html lang="en">
<head>
<title>Document</title>
</head>
<body>
<center>
<h1>Hello Lucky</h1>
<input type="text" id="fname" />
<button onclick="putdata()">Send Data</button>
<button onclick="getdata()">Get Data</button>
<table border="1">
<tbody id="displaydata"></tbody>
</table>


<!-- script start -->

<script>
var str = "";
function putdata() {
var name = document.getElementById("fname").value;
var data = { username: name };

fetch("http://localhost:5000/senddata", {
method: "POST", // or 'PUT'
headers: {
"Content-Type": "application/json",
},
body: JSON.stringify(data),
})
.then((response) => response.json())
.then((data) => {
console.log("Success:", data);
})
.catch((error) => {
console.error("Error:", error);
});
}

function getdata() {
var data;
fetch("http://localhost:5000/getdata", {
method: "GET", // or 'PUT'
headers: {
"Content-Type": "application/json",
},
body: JSON.stringify(data),
})
.then((response) => response.json())
.then((data) => {
console.log("Success:", data);
let myString = "";
data.forEach((element) => {
let key = Object.keys(element)[0];
myString += `<tr>
<td>UserName</td>
<td>${element[key]}</td></tr>`;
});

document.getElementById("displaydata").innerHTML = myString;
})
.catch((error) => {
console.error("Error:", error);
});
}

</script>
</center>
<!-- SCRIPT END -->
</body>
</html>